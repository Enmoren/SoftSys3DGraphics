<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>视频采集及显示: debug-msg.h文件参考</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 制作者 Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="pages.html"><span>相关页面</span></a></li>
      <li><a href="annotated.html"><span>类</span></a></li>
      <li class="current"><a href="files.html"><span>文件</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;搜索&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>文件列表</span></a></li>
      <li><a href="globals.html"><span>文件成员</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>debug-msg.h文件参考</h1>Some macros(debug, error handle) usually used in my programs.  
<a href="#_details">更多...</a>
<p>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>

<p>
<a href="debug-msg_8h-source.html">浏览该文件的源代码。</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>宏定义</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug-msg_8h.html#472e3819e95938ab6655cc2a02cd62cf">error_exit</a>(error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the <em>error</em> msg and exit.  <a href="#472e3819e95938ab6655cc2a02cd62cf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug-msg_8h.html#d5020f0e3ed0a5439ec46eb4c5613fad">error_ret</a>(error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the <em>error</em> msg and return -1.  <a href="#d5020f0e3ed0a5439ec46eb4c5613fad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug-msg_8h.html#15dbc849f24f366cd40e980667094ed6">unix_error_exit</a>(error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the <em>error</em> msg(with errno) and then exit. I put 'unix' before the 'function' name because I am using 'errno'.  <a href="#15dbc849f24f366cd40e980667094ed6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug-msg_8h.html#d28aa2b2a878145ac30d6872993e8197">unix_error_ret</a>(error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the <em>error</em> msg(with errno) and then return -1. I put 'unix' before the 'function' name because I am using 'errno'.  <a href="#d28aa2b2a878145ac30d6872993e8197"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug-msg_8h.html#a946e124705bdea498c32c5c1c806adf">unix_print_error</a>(error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the <em>error</em> msg(with errno) and then exit. I put 'unix' before the 'function' name because I am using 'errno'.<br>
 This error handle(detail version) can show the <code>file</code>, <code>function</code> and <code>line</code> where the <em>error</em> happens.  <a href="#a946e124705bdea498c32c5c1c806adf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="aa3707248fff20728417d9c0757c9c7e"></a><!-- doxytag: member="debug&#45;msg.h::debug_msg" ref="aa3707248fff20728417d9c0757c9c7e" args="(fmt,...)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug-msg_8h.html#aa3707248fff20728417d9c0757c9c7e">debug_msg</a>(fmt,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the debug msg, as the same with <em>printf</em>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="aff5002568cc8b5d3ea39a08647f8cdc"></a><!-- doxytag: member="debug&#45;msg.h::msg_out" ref="aff5002568cc8b5d3ea39a08647f8cdc" args="(format,...)" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>msg_out</b>(format,...)&nbsp;&nbsp;&nbsp;fprintf(stdout,format,##__VA_ARGS__)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug-msg_8h.html#ad9cc64d45a76ba0d37c00f8cd9caa37">TRACE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug-msg_8h.html#69ae5b65e9bb014139d05a2b375ec82d">debug_trace</a>(trace)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that traces the <code>file</code>, <code>function</code> and <code>line</code>.  <a href="#69ae5b65e9bb014139d05a2b375ec82d"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>详细描述</h2>
Some macros(debug, error handle) usually used in my programs. 
<p>
Copyleft (C) 2010 Late Lee This program is tested on LINUX PLATFORM, WITH GCC 4.x. The program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY. Please feel free to use the program, and I feel free to ignore the related issues. Any questions or suggestions, or bugs, please contact me at &lt;$ echo -n "aHR0cDovL3d3dy5sYXRlbGVlLm9yZwo=" | base64 -d&gt; or e-mail to &lt;$ echo -n "bGF0ZWxlZUAxNjMuY29tCg==" | base64 -d&gt; if you want to do this.<p>
<dl class="author" compact><dt><b>作者:</b></dt><dd>Late Lee </dd></dl>
<dl class="date" compact><dt><b>日期:</b></dt><dd>2010 </dd></dl>
<dl compact><dt><b><a class="el" href="test.html#_test000001">测试:</a></b></dt><dd>I only use this file on linux(with x86 &amp; arm) platform. </dd></dl>
<dl class="note" compact><dt><b>注解:</b></dt><dd>You must <em>define</em> DEBUG before you include this file: define DEBUG include "debug-msg.h" </dd></dl>
<hr><h2>宏定义文档</h2>
<a class="anchor" name="69ae5b65e9bb014139d05a2b375ec82d"></a><!-- doxytag: member="debug&#45;msg.h::debug_trace" ref="69ae5b65e9bb014139d05a2b375ec82d" args="(trace)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define debug_trace          </td>
          <td>(</td>
          <td class="paramtype">trace&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>值:</b><div class="fragment"><pre class="fragment">fprintf(stdout, <span class="stringliteral">"%s File:%s Line:%d Func:%s.\n"</span>,   \
            trace, __FILE__, __LINE__, __func__)
</pre></div>A macro that traces the <code>file</code>, <code>function</code> and <code>line</code>. 
<p>

</div>
</div><p>
<a class="anchor" name="472e3819e95938ab6655cc2a02cd62cf"></a><!-- doxytag: member="debug&#45;msg.h::error_exit" ref="472e3819e95938ab6655cc2a02cd62cf" args="(error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define error_exit          </td>
          <td>(</td>
          <td class="paramtype">error&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>值:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span>{                                         \
        fprintf(stderr, <span class="stringliteral">"%s\n"</span>, error);         \
        exit(0);                                \
    } <span class="keywordflow">while</span>(0)
</pre></div>A macro that prints the <em>error</em> msg and exit. 
<p>

</div>
</div><p>
<a class="anchor" name="d5020f0e3ed0a5439ec46eb4c5613fad"></a><!-- doxytag: member="debug&#45;msg.h::error_ret" ref="d5020f0e3ed0a5439ec46eb4c5613fad" args="(error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define error_ret          </td>
          <td>(</td>
          <td class="paramtype">error&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>值:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span>{                                           \
        fprintf(stderr, <span class="stringliteral">"%s\n"</span>, error);           \
        <span class="keywordflow">return</span> -1;                                \
    } <span class="keywordflow">while</span>(0)
</pre></div>A macro that prints the <em>error</em> msg and return -1. 
<p>

</div>
</div><p>
<a class="anchor" name="ad9cc64d45a76ba0d37c00f8cd9caa37"></a><!-- doxytag: member="debug&#45;msg.h::TRACE" ref="ad9cc64d45a76ba0d37c00f8cd9caa37" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
we trace all the time 
</div>
</div><p>
<a class="anchor" name="15dbc849f24f366cd40e980667094ed6"></a><!-- doxytag: member="debug&#45;msg.h::unix_error_exit" ref="15dbc849f24f366cd40e980667094ed6" args="(error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define unix_error_exit          </td>
          <td>(</td>
          <td class="paramtype">error&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>值:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span>{                                         \
        fprintf(stderr, <span class="stringliteral">"%s Info[%d]:%s\n"</span>,     \
                error, errno, strerror(errno)); \
        exit(1);                                \
    } <span class="keywordflow">while</span>(0)
</pre></div>A macro that prints the <em>error</em> msg(with errno) and then exit. I put 'unix' before the 'function' name because I am using 'errno'. 
<p>

</div>
</div><p>
<a class="anchor" name="d28aa2b2a878145ac30d6872993e8197"></a><!-- doxytag: member="debug&#45;msg.h::unix_error_ret" ref="d28aa2b2a878145ac30d6872993e8197" args="(error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define unix_error_ret          </td>
          <td>(</td>
          <td class="paramtype">error&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>值:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span>{                                         \
        fprintf(stderr, <span class="stringliteral">"%s Info[%d]:%s\n"</span>,     \
                error, errno, strerror(errno)); \
        <span class="keywordflow">return</span> -1;                              \
    } <span class="keywordflow">while</span>(0)
</pre></div>A macro that prints the <em>error</em> msg(with errno) and then return -1. I put 'unix' before the 'function' name because I am using 'errno'. 
<p>

</div>
</div><p>
<a class="anchor" name="a946e124705bdea498c32c5c1c806adf"></a><!-- doxytag: member="debug&#45;msg.h::unix_print_error" ref="a946e124705bdea498c32c5c1c806adf" args="(error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define unix_print_error          </td>
          <td>(</td>
          <td class="paramtype">error&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>值:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">do</span> {                                                        \
        fprintf(stderr, <span class="stringliteral">"Oh God!\nFile:%s Line:%d Function:%s:\n"</span>,  \
                __FILE__, __LINE__, __func__);                      \
        perror(error);                                              \
        exit(0);                                                    \
    } <span class="keywordflow">while</span>(0)
</pre></div>A macro that prints the <em>error</em> msg(with errno) and then exit. I put 'unix' before the 'function' name because I am using 'errno'.<br>
 This error handle(detail version) can show the <code>file</code>, <code>function</code> and <code>line</code> where the <em>error</em> happens. 
<p>
<dl class="note" compact><dt><b>注解:</b></dt><dd>I do not often use this 'function' in my program. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated at Tue Jan 25 21:25:34 2011 for 视频采集及显示 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
